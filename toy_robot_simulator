#!/usr/bin/env ruby
require_relative 'world'
require_relative 'robot'

world = World.new
robot = Robot.new(world)

print "Enter a command -> "
$stdout.flush

ARGF.each do |line|
  array = line.chomp.split(' ')
  if command = array[0]
    if array[1]
      options = array[1].split(',')
    end

    break if line.chomp=='exit'
    robot.send command.downcase, *options
    
    print "Enter a command -> "
    $stdout.flush
  end
end
